<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BudgetWise | Add Expense</title>

    <style>
        body{
            margin:0;
            font-family:'Segoe UI',sans-serif;
            background:#f4f6fb;
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
        }

        .card{
            background:white;
            width:420px;
            padding:30px;
            border-radius:14px;
            box-shadow:0 8px 20px rgba(0,0,0,0.1);
        }

        .card h2{
            text-align:center;
            margin-bottom:20px;
            color:#1e2a5a;
        }

        label{
            font-size:14px;
            color:#555;
            margin-top:12px;
            display:block;
        }

        input, select{
            width:100%;
            padding:10px;
            margin-top:6px;
            border-radius:6px;
            border:1px solid #ccc;
            font-size:15px;
        }

        button{
            width:100%;
            padding:12px;
            margin-top:20px;
            border:none;
            border-radius:6px;
            font-size:16px;
            cursor:pointer;
        }

        .add-btn{
            background:#4caf50;
            color:white;
        }

        .back-btn{
            background:#1e2a5a;
            color:white;
            margin-top:10px;
        }
    </style>
</head>

<body>

<div class="card">
    <h2>Add Expense</h2>

    <label>Expense Title</label>
    <input type="text" id="title" placeholder="Eg: Grocery">

    <label>Category</label>
    <select id="category">
        <option value="">Select Category</option>
        <option>Food</option>
        <option>Transport</option>
        <option>Rent</option>
        <option>Shopping</option>
        <option>Bills</option>
        <option>Other</option>
    </select>

    <label>Amount</label>
    <input type="number" id="amount" placeholder="Eg: 1500">

    <!-- ✅ DATE ADDED -->
    <label>Date</label>
    <input type="date" id="date">

    <button class="add-btn" onclick="addExpense()">Add Expense</button>
    <button class="back-btn" onclick="goDashboard()">Back to Dashboard</button>
</div>

<script>
    let expenses = JSON.parse(localStorage.getItem("expenses")) || [];

    // set default date = today
    document.getElementById("date").valueAsDate = new Date();

    function addExpense(){
        let title = document.getElementById("title").value.trim();
        let category = document.getElementById("category").value;
        let amount = document.getElementById("amount").value;
        let date = document.getElementById("date").value;

        if(title === "" || category === "" || amount === "" || date === ""){
            alert("Please fill all fields");
            return;
        }

        expenses.push({
            title: title,
            category: category,
            amount: Number(amount),
            date: date   // ✅ DATE STORED
        });

        localStorage.setItem("expenses", JSON.stringify(expenses));

        alert("Expense Added Successfully ✅");

        document.getElementById("title").value="";
        document.getElementById("category").value="";
        document.getElementById("amount").value="";
        document.getElementById("date").valueAsDate = new Date();
    }

    function goDashboard(){
        window.location.href="dashboard.html";
    }
</script>

</body>
</html>